#Database loads
alias create_postgres='initdb /opt/boxen/data/postgresql -E utf8'
alias start_postgres='pg_ctl -D /opt/boxen/data/postgresql -l /opt/boxen/log/postgresql/server.log start'
alias stop_postgres='pg_ctl -D /opt/boxen/data/postgresql stop -s -m fast'
alias restart_postgres='stop_postgres; start_postgres'

alias start_mongo='sudo mongod'

alias edit_elastic_config="subl /usr/local/Cellar/elasticsearch/0.19.9/config/elasticsearch.yml"
alias start_elastic='launchctl load -wF ~/Library/LaunchAgents/homebrew.mxcl.elasticsearch.plist'
alias stop_elastic='launchctl unload -wF ~/Library/LaunchAgents/homebrew.mxcl.elasticsearch.plist'

alias access_redis='redis-cli'

#mysql.server start
alias start_mysql="cd /usr/local/Cellar/mysql/5.5.14; /usr/local/Cellar/mysql/5.5.14/bin/mysqld_safe &"
alias stop_mysql='mysqladmin shutdown -uroot'


function install_postgres_9 {
  #Install deps
  sudo apt-get install build-essential zlib1g-dev libssl-dev libreadline5-dev
  sudo apt-get install python-software-properties
  sudo add-apt-repository ppa:pitti/postgresql
  sudo apt-get update
  sudo apt-get install postgresql-9.0 libpq-dev

  #On server
  # create the database user in unix
  # adduser database_name
  # su postgres
  # psql
  # CREATE DATABASE database_name;
}

#TODO : Add prompt to backup first, then destroy at end if desired
#TODO : Auto remove MYSQLCOM from hostconfig
function uninstall_mysql_completely {
  mysqladmin shutdown -uroot
  sudo rm /usr/local/mysql
  sudo rm -rf /usr/local/mysql*
  sudo rm -rf /Library/StartupItems/MySQLCOM
  sudo rm -rf /Library/PreferencePanes/My*
  edit /etc/hostconfig and remove the line MYSQLCOM=-YES-
  rm -rf ~/Library/PreferencePanes/My*
  sudo rm -rf /Library/Receipts/mysql*
  sudo rm -rf /Library/Receipts/MySQL*
  sudo rm -rf /private/var/db/receipts/com.mysql*
}
